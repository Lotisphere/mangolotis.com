<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mangolotis & Haru - 3D Evolution</title>
    <!-- Import Model Viewer for 3D & AR -->
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
    <style>
        /* 1. Global Reset */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            background-color: #ffffff;
            font-family: "Times New Roman", Times, serif;
            overflow: hidden; /* Prevent scrolling for the full-screen app feel */
        }

        /* --- INTRO SCREEN STYLES --- */
        #intro-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #ffffff; /* White background for clean look */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000; /* Ensure it's on top of everything */
            transition: opacity 0.8s ease-out; /* Smooth fade out */
        }

        #intro-logo {
            width: 1080px; /* Adjust size as needed */
            max-width: 80%;
            opacity: 0; /* Start hidden for fade-in effect */
            transition: opacity 1.5s ease-in, transform 0.3s ease; /* Fade in & Zoom */
            cursor: pointer;
        }

        #intro-logo.visible {
            opacity: 1; /* Fade in state */
        }

        #intro-logo:hover {
            transform: scale(1.1); /* Zoom effect on hover */
        }

        #intro-screen.hidden {
            opacity: 0;
            pointer-events: none; /* Let clicks pass through after fade out */
        }

        /* 2. Main Layout: Split Screen */
        .container {
            display: flex;
            width: 100%;
            height: 100%;
            flex-direction: row; /* Default: Left-Right */
            opacity: 0; /* Hide initially until intro is done */
            transition: opacity 1s ease-in;
        }

        .container.visible {
            opacity: 1;
        }

        /* Left Side: 3D Model */
        .left-panel {
            flex: 1.2; /* Give 3D model slightly more space (60%) */
            background-color: #ffffff;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        /* Right Side: Original Content */
        .right-panel {
            flex: 0.8; /* 40% space */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background-color: #ffffff;
        }

        /* 3D Model Viewer Style */
        model-viewer {
            width: 100%;
            height: 100%;
            --poster-color: transparent;
            display: block; 
        }

        /* Original Content Styles */
        .avatar {
            width: 80%; /* Responsive width: 80% of the right panel */
            max-width: 400px; /* But never wider than 400px on desktop */
            height: auto;
            margin-bottom: 20px;
            transition: transform 0.3s ease;
        }
        .avatar:hover {
            transform: scale(1.05); /* Subtle hover effect */
        }

        .title {
            font-size: 24px;
            color: #444444;
            letter-spacing: 1px;
            font-weight: normal;
        }

        /* 3. Heart Animation Styles */
        .heart {
            position: absolute;
            color: #ff6b6b; /* Cute pink/red */
            font-size: 24px;
            pointer-events: none; /* Let clicks pass through */
            user-select: none;
            animation: floatUp 0.8s ease-out forwards;
            z-index: 9999; /* Ensure hearts are on top of everything */
        }

        @keyframes floatUp {
            0% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(-50px) scale(1.5);
                opacity: 0;
            }
        }

        /* Mobile Responsive: Stack layout */
        @media (max-width: 768px) {
            .container {
                flex-direction: column; /* Top-Bottom on mobile */
            }
            .left-panel {
                flex: 1; /* 50% height */
                width: 100%;
            }
            .right-panel {
                flex: 1; /* 50% height */
                width: 100%;
                padding: 20px 0;
            }
            .avatar {
                width: 200px; /* Smaller image on mobile */
                max-width: 80%;
            }
            .title {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>

    <div id="intro-screen">
        <img src="mangolotis_logo.png" alt="Mangolotis Logo" id="intro-logo">
    </div>

    <div class="container" id="main-content">
        <!-- LEFT: 3D Haru -->
        <div class="left-panel">
            <!-- 
                src: The 3D model file
                camera-controls: Allows mouse/touch interaction
                ar: Enables AR on mobile
                shadow-intensity: Realistic shadows
                auto-rotate: Spins slowly when idle
                camera-orbit: Controls initial camera position
                camera-target: Where the camera looks at
            -->
            <model-viewer 
                src="haru_2test_web.glb" 
                alt="3D Haru Model"
                camera-controls 
                ar
                ar-modes="webxr scene-viewer quick-look"
                shadow-intensity="1"
                auto-rotate
                camera-orbit="0deg 75deg auto" 
                field-of-view="30deg">
            </model-viewer>
        </div>

        <!-- RIGHT: Mangolotis & 2D Haru -->
        <div class="right-panel">
            <img src="haru.png" alt="Cute Haru" class="avatar">
            <div class="title">Mangolotis, Haru</div>
        </div>
    </div>

    <script>
        // --- INTRO SCREEN LOGIC ---
        const introScreen = document.getElementById('intro-screen');
        const introLogo = document.getElementById('intro-logo');
        const mainContent = document.getElementById('main-content');

        // Fade in logo after a slight delay
        setTimeout(() => {
            introLogo.classList.add('visible');
        }, 500);

        // Click to enter
        introLogo.addEventListener('click', () => {
            introScreen.classList.add('hidden'); // Fade out intro
            setTimeout(() => {
                introScreen.style.display = 'none'; // Remove from layout
                mainContent.classList.add('visible'); // Fade in main content
            }, 800); // Wait for fade out animation
        });

        // --- HEART ANIMATION LOGIC ---
        // Heart Click Effect Logic
        document.addEventListener('click', function(e) {
            // Only spawn hearts if the intro screen is hidden
            if (!introScreen.classList.contains('hidden')) return; 

            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.innerHTML = 'â¤'; 
            
            // Randomize position slightly around the click
            const x = e.clientX;
            const y = e.clientY;
            
            heart.style.left = x + 'px';
            heart.style.top = y + 'px';
            
            document.body.appendChild(heart);

            // Remove after animation completes (0.8s)
            setTimeout(() => {
                heart.remove();
            }, 800);
        });
    </script>

</body>
</html>